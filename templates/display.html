<script src="static/js/jquery-1.9.0.js"></script>
<script>
$(function ReadTemperature(){

	$.ajax({
		url: '/UpdateGauges',
		dataType: 'json',
		type: 'POST',
		success: function(response){
		
    		    retval = response.GaugeValues;
		// would like to then find a way to look at the retval response assign them to the the different spans that are auto created
		// then replace retval below with the appropriate item in retval response

     {% for line in ScreenText %}
	 	  
		    $("#{{ line.replace(" ", "") }}").html(retval);
     {% endfor %}		    
	            },
		complete: function() {
	                setTimeout(ReadTemperature, 3000);   //Refresh value every 3 seconds
		    }
	
	});

});
</script>

<script>
ReadTemperature()
</script>

{% extends "layout.html" %}
{% block title %}Index{% endblock %}
{% block head %}
  {{ super() }}
  <style type="text/css">
    .important { color: #336699; }
  </style>


{% endblock %}
{% block content %}
    <h1>Sensor Data</h1>
    <p class="important">
        Live Data from Sensors
    </p>

      <!-- build out a dynamic list of sensors that can then be populated by the ajax function -->
        {% for line in ScreenText %}
	<div>
		{{ line }} : <span id="{{ line.replace(" ", "") }}"> </span>
        </div>  	
        {% endfor %}



	<p>
        
    </p>    

{% endblock %}
